version: '1.0'

steps:
  build_prj:
    type: build
    description: Build an Image With Build Arguments
    image_name: codefreshio/yaml-example-build-arguments
    dockerfile: Dockerfile
    tag: ${{CF_BRANCH}}
    build_arguments:
        - argument=${{TEST}}
    when:
      condition:
        all:
          betaBranch: 'includes(lower("beta"), "beta") == true'
          isTag: 'match("${{CF_BRANCH}}", "^test", true) == true'